<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Game</title>
</head>
<body>
<h1 class="first-player">Nobody.</h1>
<button class="click-for-next">Click for next one.</button>

</body>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>
<script type="text/javascript" charset="utf-8">
    var current_player = null;
    var players = [];
    $(document).ready(function () {

        var socket = io.connect('http://' + document.domain + ':' + location.port + '/game');
        // next player clicked from server. maintain a local queue
        socket.on('player_clicked', function(player) {
            players.push(player);
            if (current_player == null) {
                getNextPlayer();
            }
        });

        // get next player when requested
        $('.click-for-next').click(function () {
           getNextPlayer();
        });
    });

    function getNextPlayer() {
        current_player = players.shift();
        if (current_player !== undefined) {
            $('.first-player').text(current_player.name);
        }
    }

</script>
</html>